{% extends 'homebase.html.twig' %}

{% block title %}{{setting[0].title}}{% endblock %}
{% block keywords %}{{setting[0].keywords}}{% endblock %}
{% block description %}{{setting[0].description}}{% endblock %}
{% block stylesheets %}
<style>

.scroll-container {
	display: flex;
	overflow-x: auto;
	scroll-behavior: smooth;
}
.scroll-container::-webkit-scrollbar {
	height: 8px;
}

.scroll-container::-webkit-scrollbar-track {
	background: #f1f1f1;
}

.scroll-container::-webkit-scrollbar-thumb {
	background: #007bff;
	border-radius: 4px;
}

.scroll-container::-webkit-scrollbar-thumb:hover {
	background: #0056b3;
}
.scroll-container .course-card {
	flex: 0 0 auto;
	margin-right: 15px;
	width: 300px;
}
.scroll-container img {
	max-height: 200px;
	object-fit: cover;
	width: 100%;
}
.scroll-buttons {
	display: flex;
	justify-content: space-between;
	margin-top: 15px;
}   
</style>
{% endblock %}

{% block body %}
	{% if slider|length > 1 %}
		{% block slider %} 
			{% include('home/slider.html.twig') %}
		{% endblock %}
    {% endif %}
	{{ include('brand.html.twig') }}
	{% if events|length > 0 %}
		
		{% for event in events %}
			{% include('home/blackfriday.html.twig')%}
		{% endfor %}
	{% endif %}
	<!-- start features Area -->
	
	<!-- end features Area -->
    <!-- End Banner Area -->
	<div class="container">
    <h2 class="text-center mb-4">Explorez Nos Formations</h2>
	{% if shelfs|length > 0 %}
	{% for shelf in shelfs %}
    <div class="card my-5 border-0">
		<div class="head d-flex flex-wrap justify-content-between ">
			<span>
				{{shelf.name}}
			</span>
			 <!-- Navigation Buttons -->
			<div class="justify-content-center">
				<div class="scroll-buttons btn-group" role="group" aria-label="Controls">
					<button id="prevButton{{shelf.id}}" class="btn btn-outline-primary btn_icon"><i class="fa fa-chevron-left "></i></button>
					<button id="nextButton{{shelf.id}}" class="btn btn-outline-primary btn_icon"><i class="fa fa-chevron-right"></i></button>
				</div>
			</div>
		</div>
        <!-- Horizontal Scroll View -->
        <div class="scroll-container pt-4" id="courseScrollView{{shelf.id}}">
            {% for product in shelf.products %}
            <div class="single-product col-md-4 pt-3">
				<a href="{{ path('product_show', {'slug': product.slug}) }}" class="social-info">
					<div class="scene" style="height: 300px;width: 200px;">
						<div class="dvd-box">
							<div class="cover front" style="background-image: url('{{ asset('uploads/images/' ~ product.image) }}');">{{product.title}}</div>
							<div class="cover back"></div>
							<div class="spine"><span class="vertical-text">{{product.title}}</span></div>
						</div>
					</div>
				</a>
				<div class="product-details">
					<h6>{{product.title}}</h6>
					<div class="price">
						<h6>{{product.price}}</h6><h6> XAF</h6>
						<h6 class="l-through">{{product.originalPrice }} XAF</h6>
					</div>
					<div class="prd-bottom">

						<a href="{{path('shopcart_new', {'productId':product.id})}}" class="social-info">
							<span class="ti-bag"></span>
							<p class="hover-text">Ajouter au panier</p>
						</a>
						<a href="{{path('user_toggle_favorite', {'id': product.id })}}" class="social-info">
							<span class="lnr lnr-heart"></span>
							<p class="hover-text">Favorie</p>
						</a>
						{# <a href="" class="social-info">
							<span class="lnr lnr-sync"></span>
							<p class="hover-text">compare</p>
						</a> #}
						<a href="{{ path('product_show', {'slug': product.slug}) }}" class="social-info">
							<span class="lnr lnr-move"></span>
							<p class="hover-text">voir plus</p>
						</a>
					</div>
				</div>
							
			</div>
            {% endfor %}
        </div>

       
    </div>
	{% endfor %}
	{% else %}
	<div class="col-12">
		<blockquote class="generic-blockquote">
			Aucune Formation Disponible!
		</blockquote>
	</div>
	{% endif %}
	<h2 class="text-center mb-4">Les Apprenants Aiment Muzeum</h2>				
		<div class="review_list row">
			<div class="col-md-4 review_item card p-3 border border-primary">
				<div class="media">
					
						
							<div class="d-flex">
								<img src="{{asset('assets/client/img/avatar.jpg' )}}" style="vertical-align: middle;width: 50px;height: 50px;border-radius: 50%;" alt="avatar">
							</div>
					
					
					<div class="media-body">
						<h4></h4>
						
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						
					</div>
				</div>
				
					<h5>Lucas B.</h5> 
				
				<p>Les formations sont incroyables ! Je viens de terminer le cours sur l'intelligence artificielle, et je suis bluffé par la qualité des vidéos. Tout est clair, pratique et directement applicable à mon travail. C'est la meilleure plateforme pour apprendre les nouvelles technologies !</p>
			</div>

			<div class="col-md-4 review_item card p-3 border border-primary">
				<div class="media">
					
						
							<div class="d-flex">
								<img src="{{asset('assets/client/img/avatar.jpg' )}}" style="vertical-align: middle;width: 50px;height: 50px;border-radius: 50%;" alt="avatar">
							</div>
					
					
					<div class="media-body">
						<h4></h4>
						
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						
					</div>
				</div>
				
					<h5>Sophie M.</h5> 
				
				<p>En tant que développeuse, j'étais à la recherche de formations qui vont droit au but et qui m'aident à rester à jour avec les dernières innovations. J'ai suivi la formation sur le développement d'applications mobiles, et grâce à cela, j'ai pu lancer mon propre projet. Merci pour cette qualité exceptionnelle !</p>
			</div>

			<div class="col-md-4 review_item card p-3 border border-primary">
				<div class="media">
					
						
							<div class="d-flex">
								<img src="{{asset('assets/client/img/avatar.jpg' )}}" style="vertical-align: middle;width: 50px;height: 50px;border-radius: 50%;" alt="avatar">
							</div>
					
					
					<div class="media-body">
						<h4></h4>
						
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						<i class="fa fa-star"></i>
						
						
					</div>
				</div>
				
					<h5>Amadou K.</h5> 
				
				<p>Ces formations en vidéo sont un véritable atout pour quiconque veut se former aux nouvelles technologies. J'ai particulièrement aimé les explications simples et les exemples concrets. Depuis, j'ai décroché un poste en cybersécurité grâce aux compétences acquises ici !</p>
			</div>
			
		</div>
	{{ include('reviews.html.twig') }}
</div>
{% endblock %}

 {% block javascripts %} 
{{parent()}}
<script>

function initScroll(IDelem) {
	const scrollView = document.getElementById('courseScrollView' + IDelem);
    const prevButton = document.getElementById('prevButton' + IDelem);
    const nextButton = document.getElementById('nextButton' + IDelem);

    prevButton.addEventListener('click', () => {
        scrollView.scrollBy({ left: -300, behavior: 'smooth' });
    });

    nextButton.addEventListener('click', () => {
        scrollView.scrollBy({ left: 300, behavior: 'smooth' });
    });
}
	{% for shelf in shelfs %}
	initScroll('{{shelf.id}}')
	{% endfor %}

</script>

{% endblock %} 